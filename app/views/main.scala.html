@(title: String, host: String)(implicit lang: Lang)
<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>@title</title>
        <link rel="stylesheet" media="screen" href="@("http://" + host + "/assets/css/all.css")">
        <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-dateFormat/1.0/jquery.dateFormat.min.js"></script>
        <script src="http://vjs.zencdn.net/ie8/1.1.1/videojs-ie8.min.js"></script>
        <script src="http://vjs.zencdn.net/5.4.4/video.js"></script>
        <script language="javascript" type="text/javascript">

  var wsUri = "@("ws://" + host + "/info")";
  var output;

  function init(){
    output = document.getElementById("output");
    testWebSocket();
  }

  function testWebSocket(){
    websocket = new WebSocket(wsUri);
    websocket.onmessage = function(evt) { onMessage(evt) };
  }

  function updateDevice(v){
    if(v.online){
        jQuery("#"+v.device).find("#online").addClass('on')
    } else{
        jQuery("#"+v.device).find("#online").removeClass('on')
    }
    var content=jQuery("#"+v.device).find("#content")
    if(content.find("#"+v.event.startTime).length===0){
    content.prepend('<div id="'+v.event.startTime+'" class="video-row">' +
     '<div class="text-box"><h2 id="air" style="color:forestgreen">Online</h2>' +
     '<video id="my-video" class=" video-box" controls preload="auto" width="100%" height="100%">' +
     '<source src="'+v.event.video+'" type="video/mp4"' +
//      '<source src="http://r7---sn-aigllnzl.googlevideo.com/videoplayback?ipbits=0&key=yt6&sver=3&pl=33&mn=sn-aigllnzl&ip=2a02%3A2498%3Ae003%3A46%3A3%3A60%3A0%3A2&mm=31&itag=18&ms=au&initcwndbps=3567500&mv=m&dur=35.898&mt=1452081591&id=o-AOsLXd8XwLk90MI_4HcKVe1sUznMEbXZuJyfP7Jq79m3&fexp=9408253%2C9410705%2C9412859%2C9415867%2C9416126%2C9417529%2C9418199%2C9420053%2C9420452%2C9422596%2C9422841%2C9423662%2C9424299%2C9424822%2C9425699%2C9425783%2C9425791%2C9426010%2C9426503%2C9426722&sparams=dur%2Cid%2Cinitcwndbps%2Cip%2Cipbits%2Citag%2Clmt%2Cmime%2Cmm%2Cmn%2Cms%2Cmv%2Cnh%2Cpl%2Cratebypass%2Csource%2Cupn%2Cexpire&mime=video%2Fmp4&lmt=1451044129298055&ratebypass=yes&expire=1452103278&signature=3CCDD356EE541A32E3D934DEF77FD39123C86563.9BE65943D512F476F991E38A4EDE43EAE8DD1B47&nh=IgpwcjAzLmxocjE0KgkxMjcuMC4wLjE&source=youtube&upn=AwyGLxNYVkA&title=Santa+caught+on+our+security+camera" type="video/mp4"/>' +

     '<p class="vjs-no-js">' +
     'To view this video please enable JavaScript, and consider upgrading to a web browser that' +
     '<a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video>' +
            '</div>' +
          '</div>')
    }
    if(typeof v.event.endTime != 'undefined'){
    var endTime = new Date(v.event.endTime);
    content.find("#"+v.event.startTime).find("#air").css("color", "red").text("Recording from: "+jQuery.format.date(endTime,"dd.MM.yyyy HH:mm"));
    }
   }

  function onMessage(evt){
    var message= jQuery.parseJSON( evt.data );
    var block=jQuery("#"+message.device)
    if(block.length===0){
    jQuery("body").append('<section id="'+message.device+'" class="video-section">' +
     '<span id="online" class="video-status"></span>' +
       '<video id="my-video" class="video-js video-holder" controls preload="auto" width="100%" height="100%">' +
        '<source src="'+message.url+'" type="video/mp4"/>' +
//          '<source src="http://r7---sn-aigllnzl.googlevideo.com/videoplayback?ipbits=0&key=yt6&sver=3&pl=33&mn=sn-aigllnzl&ip=2a02%3A2498%3Ae003%3A46%3A3%3A60%3A0%3A2&mm=31&itag=18&ms=au&initcwndbps=3567500&mv=m&dur=35.898&mt=1452081591&id=o-AOsLXd8XwLk90MI_4HcKVe1sUznMEbXZuJyfP7Jq79m3&fexp=9408253%2C9410705%2C9412859%2C9415867%2C9416126%2C9417529%2C9418199%2C9420053%2C9420452%2C9422596%2C9422841%2C9423662%2C9424299%2C9424822%2C9425699%2C9425783%2C9425791%2C9426010%2C9426503%2C9426722&sparams=dur%2Cid%2Cinitcwndbps%2Cip%2Cipbits%2Citag%2Clmt%2Cmime%2Cmm%2Cmn%2Cms%2Cmv%2Cnh%2Cpl%2Cratebypass%2Csource%2Cupn%2Cexpire&mime=video%2Fmp4&lmt=1451044129298055&ratebypass=yes&expire=1452103278&signature=3CCDD356EE541A32E3D934DEF77FD39123C86563.9BE65943D512F476F991E38A4EDE43EAE8DD1B47&nh=IgpwcjAzLmxocjE0KgkxMjcuMC4wLjE&source=youtube&upn=AwyGLxNYVkA&title=Santa+caught+on+our+security+camera" type="video/mp4"/>' +
         '<p class="vjs-no-js">' +
          'To view this video please enable JavaScript, and consider upgrading to a web browser that' +
           '<a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video>' +
     ' <div id="content" class="video-content">' +
      '</div></section>');
    updateDevice(message);
    }else{
    updateDevice(message);
    }
  }
  window.addEventListener("load", init, false);

  </script>
    </head>
    <body>

    </body>
</html>